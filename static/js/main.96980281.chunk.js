(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{100:function(e,t,r){"use strict";r.r(t);var n=r(3),a=r(2),c=r.n(a),i=r(47),o=r.n(i),d=(r(80),r(9)),s=r(38),l=r(11);function j(){var e=Object(s.a)(["\n  query getCharacter($characterId: ID!) {\n    character(id: $characterId) {\n      id\n      name\n      status\n      species\n      type\n      gender\n      origin {\n        name\n        type\n        dimension\n      }\n      location {\n        id\n        name\n        type\n        dimension\n      }\n      image\n      episode {\n        id\n        name\n      }\n    }\n  }\n"]);return j=function(){return e},e}var h=Object(l.gql)(j());var u,v=function(e){var t=e.width,r=e.height,a=e.className;return Object(n.jsx)("svg",{width:t,height:r,viewBox:"0 0 38 38",className:a,children:Object(n.jsx)("g",{fill:"none",fillRule:"evenodd",children:Object(n.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[Object(n.jsx)("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),Object(n.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:Object(n.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})})},b=r(49),p=r.n(b);!function(e){e.Local="local",e.FullPage="fullPage"}(u||(u={}));var m=function(e){var t=e.width,r=void 0===t?38:t,a=e.height,c=void 0===a?38:a,i=e.type,o=void 0===i?u.Local:i,d=Object(n.jsx)(v,{width:r,height:c,className:p.a.spinner});return o===u.Local?d:Object(n.jsx)("div",{"data-testid":"spinner",className:p.a.wholePageCover,children:d})},O=r(71),x=r.n(O),g=r(29),f=r.n(g),y=function(e){var t=e.message,r=e.reload,a=Object(d.g)(),c="404: Not Found"===t;return Object(n.jsxs)(x.a,{ariaHideApp:!1,className:f.a.modal,overlayClassName:f.a.overlay,isOpen:!0,contentLabel:"Error Modal",testId:"error-modal",children:[Object(n.jsx)("header",{className:f.a.modalHeader,children:Object(n.jsx)("h2",{className:f.a.modalTitle,children:"Error"})}),Object(n.jsx)("div",{className:f.a.modalBody,children:Object(n.jsx)("p",{children:t})}),Object(n.jsx)("footer",{className:f.a.modalFooter,children:Object(n.jsx)("button",{"data-testid":"error-modal-reload-button",onClick:function(){c?a.replace("/"):r?r():a.go(0)},children:c?"Go to home page":"Reload"})})]})},_=function(e){var t,r=e.character;if(!r)return null;var a=r.origin,c=r.location;return Object(n.jsxs)("div",{"data-testid":"character",children:[Object(n.jsx)("div",{children:"Character:"}),Object(n.jsxs)("div",{children:["Name: ",r.name]}),Object(n.jsxs)("div",{children:["Status: ",r.status]}),Object(n.jsxs)("div",{children:["Species: ",r.species]}),Object(n.jsxs)("div",{children:["Type: ",r.type]}),Object(n.jsxs)("div",{children:["Gender: ",r.gender]}),Object(n.jsx)("div",{children:r.image&&Object(n.jsx)("img",{src:r.image,alt:"".concat(r.name," avatar")})}),Object(n.jsx)("div",{children:"Origin:"}),Object(n.jsx)("div",{children:null===a||void 0===a?void 0:a.name}),Object(n.jsx)("div",{children:null===a||void 0===a?void 0:a.dimension}),Object(n.jsx)("div",{children:null===a||void 0===a?void 0:a.type}),Object(n.jsx)("div",{children:"Location:"}),Object(n.jsx)("div",{children:null===c||void 0===c?void 0:c.name}),Object(n.jsx)("div",{children:null===c||void 0===c?void 0:c.type}),Object(n.jsx)("div",{children:null===c||void 0===c?void 0:c.dimension}),Object(n.jsx)("div",{children:"episode:"}),Object(n.jsx)("ul",{children:null===(t=r.episode)||void 0===t?void 0:t.map((function(e){return Object(n.jsx)("li",{children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})]})},N=r(73),w=r.n(N),P=function(e){var t=e["data-testid"],r=void 0===t?"page":t,a=e.children;return Object(n.jsx)("div",{"data-testid":r,className:w.a.page,children:a})},C=function(){var e,t,r=Object(d.i)(),a=(t={variables:{characterId:r.characterId}},l.useQuery(h,t));if(a.loading)return Object(n.jsx)(m,{type:u.FullPage});if(a.error)return Object(n.jsx)(y,{message:a.error.message});var c=null===(e=a.data)||void 0===e?void 0:e.character;return Object(n.jsx)(P,{"data-testid":"character-page",children:Object(n.jsx)(_,{character:c})})},M=r(22),I=function(e){var t=e.character,r="/characters/".concat(t.id);return Object(n.jsxs)("tr",{"data-testid":"characters-list-item",children:[Object(n.jsx)("td",{children:t.image&&Object(n.jsx)("img",{width:"50",height:"50",src:t.image,alt:"".concat(t.name," avatar")})}),Object(n.jsx)("td",{children:t.name}),Object(n.jsx)("td",{children:t.species}),Object(n.jsx)("td",{children:t.status}),Object(n.jsx)("td",{children:Object(n.jsx)(M.b,{to:r,children:"view"})})]})},S=function(e){var t=e.characters;return Object(n.jsx)("table",{"data-testid":"characters-list",children:Object(n.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((function(e){return e?Object(n.jsx)(I,{character:e},e.id):null}))})})};function E(){var e=Object(s.a)(["\n  query getCharacters($page: Int) {\n    characters(page: $page) {\n      info {\n        count\n        pages\n        next\n        prev\n      }\n      results {\n        id\n        name\n        status\n        species\n        image\n      }\n    }\n  }\n"]);return E=function(){return e},e}var F=Object(l.gql)(E());var k=function(){var e=Object(d.h)();return Object(a.useMemo)((function(){return new URLSearchParams(e.search)}),[e.search])},L=r(74),T=r.n(L),q=function(e){var t=e.prev,r=e.next,a=k(),c=null,i=null;if(t){a.set("page",String(t));var o=String(a);c=Object(n.jsx)(M.b,{to:function(){return{search:o}},children:"Prev"})}if(r){a.set("page",String(r));var d=String(a);i=Object(n.jsx)(M.b,{to:function(){return{search:d}},children:"Next"})}return Object(n.jsxs)("div",{"data-testid":"pagination",className:T.a.wrapper,children:[c,i]})},B=function(){var e,t,r,a,c,i,o,d,s,j,h=k(),v=Number(null!==(e=h.get("page"))&&void 0!==e?e:1),b=(j={variables:{page:v}},l.useQuery(F,j));if(b.loading)return Object(n.jsx)(m,{type:u.FullPage});if(b.error)return Object(n.jsx)(y,{message:b.error.message});var p=null===(t=b.data)||void 0===t||null===(r=t.characters)||void 0===r?void 0:r.results;return Object(n.jsxs)(P,{"data-testid":"characters-page",children:[Object(n.jsx)(S,{characters:p}),Object(n.jsx)(q,{prev:null===(a=b.data)||void 0===a||null===(c=a.characters)||void 0===c||null===(i=c.info)||void 0===i?void 0:i.prev,next:null===(o=b.data)||void 0===o||null===(d=o.characters)||void 0===d||null===(s=d.info)||void 0===s?void 0:s.next})]})},H=function(){return Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{path:"/characters/:characterId",component:C}),Object(n.jsx)(d.b,{path:"/characters",component:B}),Object(n.jsx)(d.a,{to:"/characters"})]})},A=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,102)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))},J=new l.InMemoryCache({typePolicies:{}}),R=function(e,t){if("string"==typeof t.body){var r=JSON.parse(t.body).operationName;e="".concat(e,"?opName=").concat(r)}return fetch(e,t)},$=function(){var e=Object(l.createHttpLink)({uri:"https://rickandmortyapi.com/graphql",fetch:R});return new l.ApolloClient({cache:J,link:l.ApolloLink.from([e])})}(),D=M.a;o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(l.ApolloProvider,{client:$,children:Object(n.jsx)(D,{basename:"/test-app-react-graphql",children:Object(n.jsx)(H,{})})})}),document.getElementById("root")),A()},29:function(e,t,r){e.exports={modal:"ErrorModal_modal__37r9E",overlay:"ErrorModal_overlay__2kaMM",modalHeader:"ErrorModal_modalHeader__1MJ7D",modalFooter:"ErrorModal_modalFooter__14ubC",modalBody:"ErrorModal_modalBody__2Ry-K",modalTitle:"ErrorModal_modalTitle__135EU"}},49:function(e,t,r){e.exports={spinner:"Spinner_spinner__1Neu5",wholePageCover:"Spinner_wholePageCover__23sOI"}},73:function(e,t,r){e.exports={page:"Page_page__2PgI3"}},74:function(e,t,r){e.exports={wrapper:"Pagination_wrapper__1MyGX"}},80:function(e,t,r){}},[[100,1,2]]]);
//# sourceMappingURL=main.96980281.chunk.js.map